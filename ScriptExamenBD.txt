-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS public."Avion"
(
    "idAvion" integer NOT NULL,
    modelo text COLLATE pg_catalog."default",
    peso integer,
    capacidad integer,
    CONSTRAINT "Aviones_pkey" PRIMARY KEY ("idAvion")
);

CREATE TABLE IF NOT EXISTS public."Hangar"
(
    "idHangar" integer NOT NULL,
    capacidad integer,
    localizacion text COLLATE pg_catalog."default",
    CONSTRAINT "Hangares_pkey" PRIMARY KEY ("idHangar")
);

CREATE TABLE IF NOT EXISTS public."Piloto"
(
    "numeroLicencia" integer NOT NULL,
    restricciones text COLLATE pg_catalog."default",
    salario integer,
    turno text COLLATE pg_catalog."default",
    CONSTRAINT "Piloto_pkey" PRIMARY KEY ("numeroLicencia")
);

CREATE TABLE IF NOT EXISTS public."Relacion"
(
    nombre text COLLATE pg_catalog."default" NOT NULL,
    "idAvion" integer,
    "numeroLicencia" integer,
    "idHangar" integer,
    CONSTRAINT relaciones_pkey PRIMARY KEY (nombre)
);

ALTER TABLE IF EXISTS public."Relacion"
    ADD CONSTRAINT "relaciones_idAvion_fkey" FOREIGN KEY ("idAvion")
    REFERENCES public."Avion" ("idAvion") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Relacion"
    ADD CONSTRAINT "relaciones_idHangar_fkey" FOREIGN KEY ("idHangar")
    REFERENCES public."Hangar" ("idHangar") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Relacion"
    ADD CONSTRAINT "relaciones_numeroLicencia_fkey" FOREIGN KEY ("numeroLicencia")
    REFERENCES public."Piloto" ("numeroLicencia") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;

END;